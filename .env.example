# ===========================================
# BattleCRM Environment Configuration
# ===========================================
# Copy this file to .env and fill in your values
# NEVER commit .env to version control!

# -------------------------------------------
# Application Settings
# -------------------------------------------
APP_NAME=BattleCRM

# -------------------------------------------
# Frontend (Vite)
# -------------------------------------------
# API URL for frontend to call backend
# Local dev: used by Vite dev server
# Docker build: injected as a build ARG in docker-compose.yml (VITE_API_URL=/api) — this value is ignored
VITE_API_URL=http://localhost:3333/api
# Frontend application URL
VITE_APP_URL=http://localhost:5173

# -------------------------------------------
# Backend (Adonis.js)
# -------------------------------------------
NODE_ENV=development
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
APP_KEY=
PORT=3333
HOST=0.0.0.0

# -------------------------------------------
# Database (PostgreSQL — Docker)
# -------------------------------------------
# Local dev: DB_HOST=localhost (postgres runs in Docker, port 5432 exposed)
# Docker production: DB_HOST=postgres (docker-compose service name, overridden automatically)
DB_HOST=localhost
DB_PORT=5432
DB_USER=postgres
DB_PASSWORD=your_password_here
DB_DATABASE=battlecrm

# -------------------------------------------
# Session (Adonis.js)
# -------------------------------------------
SESSION_DRIVER=cookie

# -------------------------------------------
# CORS
# -------------------------------------------
# Frontend origin for CORS (must match VITE_APP_URL)
CORS_ORIGIN=http://localhost:5173

# -------------------------------------------
# Feature Flags
# -------------------------------------------
# Set to false to disable new user registration
ALLOW_REGISTRATION=true

# -------------------------------------------
# Logging
# -------------------------------------------
# Options: fatal, error, warn, info, debug, trace, silent
LOG_LEVEL=debug

# -------------------------------------------
# E2E Tests (Playwright)
# -------------------------------------------
# Requires: ALLOW_REGISTRATION=true
# Frontend URL (Vite dev server)
E2E_BASE_URL=http://localhost:5173
# Backend URL (direct — Vite does not proxy /api in dev)
E2E_API_URL=http://localhost:3333
# Dedicated E2E test account (created automatically by auth.setup.ts)
E2E_TEST_EMAIL=e2e-test@battlecrm.test
E2E_TEST_PASSWORD=E2eTestPwd123!
